@import "app-table-variables.styl"

.app-table__bordered
  border-width 1px 0 0 0
  border-color $table-border
  border-collapse collapse
  border-style solid

.app-table__shadow--base
  position absolute
  width 5px
  right 0
  background $table-shadow-color
  transition all .3s ease-in

.app-table
  position relative

  .app-table__container
    min-width $layout-min-width - $layout-page-padding
    background $table-background
    min-height $table-min-height
    border-radius 6px
    width 100%
    overflow auto
    position relative
    &.app-table__container--loading
      overflow hidden

    table
      @extend .app-table__bordered
      width 100%

      .app-table__th, .app-table__td
        height 1.1em
        /*max-width 120px*/
        overflow hidden
        white-space nowrap
        text-overflow ellipsis

      th, td
        @extend .app-table__bordered
        background $table-background
        color $table-text
        text-align left
        padding 12px 16px

      th
        font-size 1.1em
        text-transform uppercase

      td
        color $table-text-cell
        font-size 1.1em

        .app-table__a
          color $table-text-link
          font-family monospace


      .app-table__list-enter-active,
      .app-table__list-leave-active,
      .app-table__list-move
        transition 1s ease-in-out
        transition-property opacity

      .app-table__list-enter
        opacity 0

      .app-table__list-enter-to
        opacity 1

      .app-table__list-leave-active
        position absolute

      .app-table__list-leave-to
        opacity 0
        transform-origin center top

  .app-table__loading
    position absolute
    display flex
    background rgba(0, 0, 0, 0.5)
    border-radius 6px
    width 300vw
    font-size 3em
    height 100%
    color #fff
    top 0
    text-align center
    line-height 100px
    align-items center
    justify-content center
    transition opacity .5s ease-in-out, transform .1s .5s
    transform scale(0)
    opacity 0

    &.app-table__loading--visible
      transition opacity .5s ease-in-out, transform .1s .0s ease-in-out
      transform scale(1)
      opacity 1

    > .app-table__loading-container
      align-self flex-end
      padding 25px


  .app-table__shadow
    @extend .app-table__shadow--base
    display none
    height calc(100% - 200px)
    top 90px
    box-shadow 0 10px 60px 60px $table-shadow-color

    &.app-table__shadow--loading
      background $table-shadow-color-loading
      box-shadow 0 10px 60px 60px $table-shadow-color-loading
      &:before
        background $table-shadow-color-loading
        box-shadow 0 0 10px 20px $table-shadow-color-loading
      &:after
        background $table-shadow-color-loading
        box-shadow 0 0 10px 20px $table-shadow-color-loading

    &:before
      @extend .app-table__shadow--base
      content ' '
      height 60px
      box-shadow 0 0 10px 20px $table-shadow-color
      top -60px
      opacity 0.8

    &:after
      @extend .app-table__shadow--base
      content ' '
      height 60px
      box-shadow 0 0 10px 20px $table-shadow-color
      bottom -70px
      opacity 0.8

@media (max-width $break-micro)
  .app-table
    margin-right -10px

    .app-table__container
      width 100%

    .app-table__shadow
      display block

  .app-table
    .app-table__container, .app-table__loading
      border-radius 6px 0 0 6px !important
